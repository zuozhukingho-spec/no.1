<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKPC ICTå…§éƒ¨è€ƒæ ¸ç³»çµ±</title>
    <style>
        :root {
            --primary-blue: #0a2463;
            --accent-gold: #fb8b24;
            --bg-light: #f0f2f5;
            --text-dark: #1f1f1f;
            --alert-red: #d00000;
            --success-green: #2a9d8f;
            --google-blue: #0b57d0;
        }

        body {
            background-color: var(--bg-light);
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            color: var(--text-dark);
            user-select: none;
            overflow-x: hidden;
            position: relative;
        }

        /* --- ç°è’™æ¿¾é¡å±¤ (Z-Index: 20000) --- */
        #gray-fog-layer {
            position: fixed;
            top: 0; 
            left: 0;
            width: 100vw; 
            height: 100vh;
            background-color: rgba(128, 128, 128, 0.55);
            z-index: 20000; 
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        body.body-gray-mode #gray-fog-layer {
            opacity: 1;
            pointer-events: auto;
        }

        header {
            width: 100%;
            background-color: var(--primary-blue);
            color: white;
            padding: 15px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 100;
        }

        header h1 { margin: 0; font-size: 1.5rem; letter-spacing: 2px; }
        header p { margin: 5px 0 0; font-size: 0.9rem; opacity: 0.8; }

        .container {
            width: 800px;
            max-width: 95%;
            background: white;
            margin-top: 40px;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            padding: 40px;
            min-height: 400px;
        }

        .phase-badge {
            display: inline-block; padding: 5px 12px; border-radius: 20px;
            font-size: 0.85rem; font-weight: bold; margin-bottom: 20px;
        }
        .badge-training { background: #e3f2fd; color: var(--primary-blue); }
        .badge-exam { background: #ffebee; color: var(--alert-red); border: 1px solid var(--alert-red); }

        .btn {
            background-color: var(--primary-blue); color: white; border: none;
            padding: 12px 30px; font-size: 1rem; border-radius: 5px; cursor: pointer;
            transition: 0.2s; margin-top: 20px; display: inline-block;
        }
        .btn:hover { background-color: #051b4d; transform: translateY(-1px); }
        
        .btn-option {
            width: 100%; text-align: left; background: white; border: 2px solid #e0e0e0;
            color: var(--text-dark); margin: 10px 0; padding: 15px; border-radius: 6px;
        }
        .btn-option:hover:not([disabled]) { border-color: var(--primary-blue); background-color: #f8fbff; }

        .timer-container {
            height: 10px; background: #eee; width: 100%;
            position: absolute; top: 0; left: 0; display: none; z-index: 10;
        }
        .timer-bar { height: 100%; background: var(--alert-red); width: 100%; transition: width 0.1s linear; }

        .hidden { display: none !important; }
        .feedback { margin-top: 20px; padding: 15px; background: #f8f9fa; border-left: 4px solid #ccc; }
        .fail-text { color: var(--alert-red); font-size: 1.2rem; font-weight: bold; }

        /* --- å‹•ç•«èˆ‡åŠ è¼‰ --- */
        #loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: white; display: flex; justify-content: center; align-items: center;
            z-index: 10002;
        }
        .spinner {
            border: 4px solid #f3f3f3; border-top: 4px solid #1a73e8;
            border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        #white-flash-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: white; z-index: 20000; display: none;
        }

        #report-loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #f8f9fa; display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 15000; color: #333; font-family: 'Segoe UI', sans-serif;
            opacity: 0; transition: opacity 0.5s;
        }
        .report-loader {
            width: 300px; height: 8px; background: #e0e0e0; border-radius: 4px;
            overflow: hidden; margin-top: 20px; position: relative;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
        }
        .report-loader-bar { height: 100%; background: #1a73e8; width: 0%; border-radius: 4px; }
        .report-text { font-size: 1.4rem; font-weight: 500; color: #202124; }
        .report-subtext { font-size: 0.9rem; color: #5f6368; margin-top: 10px; }

        #network-check-toast {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            background-color: rgba(50, 50, 50, 0.9); color: white;
            padding: 12px 24px; border-radius: 4px; font-size: 14px;
            z-index: 20001; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex; align-items: center; gap: 10px;
        }
        .mini-spinner { width: 16px; height: 16px; border: 2px solid #fff; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; }
        #interaction-blocker { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: transparent; z-index: 20000; cursor: not-allowed; }

        /* --- Google ç™»éŒ„é  --- */
        #phishing-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #f0f4f8; display: flex; flex-direction: column;
            justify-content: center; align-items: center; z-index: 9999;
            font-family: 'Roboto', arial, sans-serif;
        }
        
        .g-card-container {
            background: white; border-radius: 28px; padding: 48px 40px 36px;
            width: 1040px; max-width: 90%; height: auto; min-height: 400px;
            display: flex; flex-direction: row; box-sizing: border-box;
            position: relative; overflow: hidden; 
        }

        .g-linear-loader {
            position: absolute; top: 0; left: 0; width: 100%; height: 4px;
            background-color: #d3e3fd; display: none; z-index: 20; 
        }
        .g-linear-loader .bar {
            content: ''; position: absolute; background-color: #0b57d0; top: 0; left: 0; bottom: 0;
            will-change: left, right; animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
        }
        .g-linear-loader .bar:after {
            content: ''; position: absolute; background-color: #0b57d0; top: 0; left: 0; bottom: 0;
            will-change: left, right; animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite; animation-delay: 1.15s;
        }
        @keyframes indeterminate { 0% { left: -35%; right: 100%; } 60% { left: 100%; right: -90%; } 100% { left: 100%; right: -90%; } }
        @keyframes indeterminate-short { 0% { left: -200%; right: 100%; } 60% { left: 107%; right: -8%; } 100% { left: 107%; right: -8%; } }

        .g-left-col { flex: 1; padding-right: 40px; display: flex; flex-direction: column; z-index: 5; transition: all 0.3s; }
        .g-right-col { flex: 1; display: flex; flex-direction: column; position: relative; z-index: 5; }

        .g-view-wrapper {
            width: 100%; height: 100%;
            transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            position: absolute; top: 0; left: 0;
        }

        #view-email { opacity: 1; transform: translateX(0); pointer-events: auto; position: relative; }
        #view-password { opacity: 0; transform: translateX(100%); pointer-events: none; position: absolute; }

        .slide-out-left { opacity: 0 !important; transform: translateX(-100%) !important; pointer-events: none !important; }
        .slide-in-right { opacity: 1 !important; transform: translateX(0) !important; pointer-events: auto !important; }

        @media (max-width: 850px) {
            .g-card-container { flex-direction: column; width: 450px; padding: 24px; }
            .g-left-col { padding-right: 0 !important; margin-bottom: 20px; }
            .g-right-col { padding-left: 0 !important; min-height: 300px; }
        }

        .g-logo { width: 48px; height: 48px; margin-bottom: 16px; }
        .g-title { color: #1f1f1f; font-size: 2.25rem; font-weight: 400; margin: 0 0 16px 0; line-height: 1.2; }
        .g-subtitle { font-size: 1rem; line-height: 1.5; color: #1f1f1f; margin: 0; }
        
        .g-email-chip {
            display: inline-flex; align-items: center; border: 1px solid #747775;
            border-radius: 18px; padding: 2px 10px 2px 4px; margin-top: 0;
            cursor: pointer; font-size: 14px; color: #1f1f1f; max-width: fit-content;
            margin-bottom: 20px; 
        }
        .g-chip-icon { margin-right: 8px; color: #444746; }
        .g-chip-arrow { margin-left: 8px; color: #444746; }

        .g-input-wrapper { margin-top: 20px; position: relative; margin-bottom: 8px; height: 56px; }
        input[type="password"]::-ms-reveal, input[type="password"]::-ms-clear { display: none; }
        
        .g-input {
            width: 100%; padding: 13px 15px; height: 100%; border: 1px solid #747775; border-radius: 4px;
            font-size: 16px; box-sizing: border-box; color: #1f1f1f; outline: none; background: transparent; 
            transition: border-color 0.2s; z-index: 1; position: relative;
        }
        .g-input:focus { border: 2px solid var(--google-blue); padding: 12px 14px; }
        .g-input-error { border-color: #d93025 !important; }
        
        .g-label-float {
            position: absolute; left: 14px; top: 50%; transform: translateY(-50%);
            background: white; padding: 0 4px; color: #747775; font-size: 16px; font-weight: 400;
            pointer-events: none; transition: all 0.2s ease-out; z-index: 2;
        }
        .g-input:focus ~ .g-label-float, .g-input:not(:placeholder-shown) ~ .g-label-float {
            top: 0; transform: translateY(-50%); font-size: 12px; color: var(--google-blue);
        }
        .g-input:not(:placeholder-shown):not(:focus) ~ .g-label-float { color: #444746; }

        .g-label-error { color: #d93025 !important; }
        .g-input:focus ~ .g-label-error { color: #d93025 !important; }
        
        .g-error-msg { display: flex; align-items: center; color: #d93025; font-size: 12px; margin-top: 6px; line-height: 1.2; }
        .g-error-msg svg { margin-right: 8px; flex-shrink: 0; }
        .g-link { color: #0b57d0; font-weight: 500; font-size: 14px; text-decoration: none; cursor: pointer; margin-top: 8px; display: inline-block; }
        .g-link:hover { background: #f0f4f8; border-radius: 4px; }
        .g-guest-info { margin-top: 40px; font-size: 14px; color: #444746; line-height: 1.4; }
        .g-actions { display: flex; justify-content: space-between; align-items: center; margin-top: auto; padding-top: 40px; }
        .g-btn-create { color: #0b57d0; background: transparent; border: none; font-weight: 500; font-size: 14px; cursor: pointer; padding: 10px 0; text-decoration: none; }
        .g-btn-next {
            background-color: #0b57d0; color: white; border: none; padding: 0 24px; height: 40px;
            border-radius: 20px; font-weight: 500; font-size: 14px; cursor: pointer;
        }
        .g-btn-next:hover { background-color: #0a46a8; box-shadow: 0 1px 2px rgba(0,0,0,0.3); }
        .g-footer { margin-top: 24px; width: 1040px; max-width: 90%; display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: #444746; }
        .g-lang-wrapper { position: relative; display: inline-block; cursor: pointer; }
        .g-lang-btn { display: flex; align-items: center; padding: 8px; border-radius: 4px; font-size: 12px; color: #444746; background: transparent; }
        .g-lang-btn:hover { background-color: #e0e5ec; }
        .g-lang-menu {
            position: absolute; bottom: 0; left: 0; background: white; border-radius: 4px;
            box-shadow: 0 2px 6px 2px rgba(60,64,67,.15), 0 1px 2px 0 rgba(60,64,67,.3);
            width: 200px; max-height: 300px; overflow-y: auto; z-index: 10001; padding: 8px 0; display: flex; flex-direction: column;
        }
        .g-lang-item { padding: 10px 16px; font-size: 13px; color: #3c4043; cursor: pointer; line-height: 1.5; }
        .g-lang-item:hover { background-color: #f5f5f5; }
        
        .g-password-prompt { font-size: 16px; color: #1f1f1f; margin-bottom: 20px; margin-top: 10px; }
        .g-checkbox-wrapper { margin-top: 10px; display: flex; align-items: center; font-size: 14px; color: #1f1f1f; }
        .g-checkbox { width: 18px; height: 18px; margin-right: 12px; cursor: pointer; accent-color: #0b57d0; }
        .g-checkbox-label { cursor: pointer; }

        /* --- å‹’ç´¢é é¢å°ˆç”¨æ¨£å¼ --- */
        #ransom-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #5e0000 0%, #000000 100%);
            display: flex; justify-content: center; align-items: center;
            /* å°‡ Z-Index æå‡è‡³ 30000ï¼Œç¢ºä¿é«˜æ–¼ç°è’™å±¤ (20000) */
            z-index: 30000; 
            color: #ff3333; font-family: 'Courier New', Courier, monospace; text-align: center;
        }
        .ransom-box {
            border: 4px solid red; background: rgba(0,0,0,0.8); padding: 40px;
            max-width: 800px; box-shadow: 0 0 50px red; animation: pulse 2s infinite;
        }
        .ransom-icon { font-size: 80px; margin-bottom: 20px; }
        .ransom-text { font-size: 1.2rem; line-height: 1.6; color: #fff; margin-bottom: 20px; text-align: left; }
        .highlight-data { color: #ffff00; font-weight: bold; background: #333; padding: 2px 5px; }
        .ransom-title-big {
            font-size: 3rem; font-weight: 900; color: #ff0000;
            text-shadow: 2px 2px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
            margin-top: 40px; letter-spacing: 5px; border-top: 2px dashed red; padding-top: 20px; display: inline-block;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 30px #5e0000; border-color: #800000; }
            50% { box-shadow: 0 0 60px #ff0000; border-color: #ff0000; }
            100% { box-shadow: 0 0 30px #5e0000; border-color: #800000; }
        }

        #offline-404-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #202124; color: #bdc1c6;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 20005; font-family: 'Segoe UI', Tahoma, sans-serif;
            text-align: center; padding: 20px; filter: none; 
        }
        .offline-dino { font-size: 72px; margin-bottom: 20px; filter: grayscale(1); }
        .offline-title { font-size: 24px; color: #e8eaed; margin-bottom: 10px; font-weight: 500; }
        .offline-desc { font-size: 15px; max-width: 600px; line-height: 1.6; }
        .offline-code { margin-top: 30px; font-family: monospace; color: #9aa0a6; font-size: 12px; }
        .offline-btn { margin-top: 20px; padding: 10px 24px; background: #8ab4f8; color: #202124; border: none; border-radius: 4px; font-weight: bold; cursor: pointer; }
        .real-server-msg {
            margin-top: 20px; color: #ff5252; font-weight: bold; font-size: 1.1rem;
            border: 1px dashed #ff5252; padding: 8px 15px; border-radius: 4px; background: rgba(255, 82, 82, 0.1);
        }

    </style>
</head>
<body>
    <div id="gray-fog-layer"></div>
    
    <audio id="bgm-relaxing" loop preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lofi-study-112191.mp3" type="audio/mp3">
    </audio>

    <audio id="bgm-battle" loop preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2022/03/22/audio_c39b1d7026.mp3?filename=action-cyberpunk-11270.mp3" type="audio/mp3">
    </audio>
    
    <audio id="bgm-victory" preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_0625c1539c.mp3?filename=success-1-6297.mp3" type="audio/mp3">
    </audio>

    <audio id="bgm-fail" preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_c8c8a73467.mp3?filename=wrong-answer-129254.mp3" type="audio/mp3">
    </audio>

    <audio id="bgm-rickroll" loop preload="auto">
        <source src="rickroll.mp3" type="audio/mp3">
    </audio>

    <header id="main-header">
        <h1>HKPC ICTç¶²çµ¡é˜²ç¦¦åŸ¹è¨“</h1>
        <p>PERSONNEL TRAINING & ASSESSMENT SYSTEM</p>
    </header>

    <div class="container" id="main-container">
        <div id="timer-box" class="timer-container"><div id="timer-bar" class="timer-bar"></div></div>

        <div id="screen-welcome">
            <h2>>>> èº«ä»½é©—è­‰é€šé</h2>
            <p>æ­¡è¿æ­¸éšŠï¼Œç‰¹å·¥ã€‚</p>
            <div style="background: #f9f9f9; padding: 20px; border-radius: 8px; margin: 20px 0;">
                <p><strong>è€ƒæ ¸æµç¨‹ç°¡å ±ï¼š</strong></p>
                <ol>
                    <li><strong>åŸºç¤è¤‡è¨“</strong>ï¼š8é“åŸºç¤é¡Œã€‚</li>
                    <li><strong>å¯¦æˆ°è€ƒæ ¸</strong>ï¼š6é“é«˜éšé¡Œï¼Œ<strong style="color:red">20ç§’é™æ™‚</strong>ã€‚</li>
                </ol>
            </div>
            <button id="btn-start-training" class="btn">é–‹å§‹åŸºç¤è¤‡è¨“</button>
        </div>

        <div id="screen-training" class="hidden">
            <span class="phase-badge badge-training">éšæ®µä¸€ï¼šåŸºç¤è¤‡è¨“</span>
            <span id="train-progress" style="float: right; color: #888;">1/8</span>
            <h3 id="train-q-text">åŠ è¼‰ä¸­...</h3>
            <div id="train-options"></div>
            <div id="train-feedback" class="feedback hidden">
                <p id="train-feedback-text"></p>
                <button id="btn-next-training" class="btn">ä¸‹ä¸€é¡Œ</button>
            </div>
        </div>

        <div id="screen-transition" class="hidden" style="text-align: center;">
            <div style="font-size: 4rem; color: var(--success-green); margin-bottom: 20px;">âœ“</div>
            <h2>åŸºç¤è¤‡è¨“å®Œæˆ</h2>
            <div style="background: #ffebee; border: 1px solid var(--alert-red); padding: 15px; margin: 20px 0; color: var(--alert-red);">
                <strong>âš  æ¥µé€ŸæŒ‘æˆ°æ¨¡å¼ âš </strong><br>20ç§’ | 6é“é¡Œ | 0å®¹éŒ¯
            </div>
            <button id="btn-start-exam" class="btn" style="background-color: var(--alert-red);">å•Ÿå‹•å¯¦æˆ°è€ƒæ ¸[çŸ¥è­˜é»å±¬æ–¼èª²å¤–ï¼Œä½†æ˜¯ä½ å¯ä»¥ç„¡é™æ¬¡å˜—è©¦]</button>
        </div>

        <div id="screen-exam" class="hidden">
            <span class="phase-badge badge-exam">éšæ®µäºŒï¼šå¯¦æˆ°è€ƒæ ¸ (Live)</span>
            <span id="exam-timer-text" style="float: right; color: var(--alert-red); font-weight:bold; font-size: 1.5rem;">20.0s</span>
            <h3 id="exam-q-text">å•é¡Œ...</h3>
            <div id="exam-options"></div>
        </div>

        <div id="screen-fail" class="hidden" style="text-align: center;">
            <div style="font-size: 4rem; color: var(--alert-red); margin-bottom: 20px;">âœ•</div>
            <h2 style="color: var(--alert-red);">è¡Œå‹•å¤±æ•—</h2>
            <p class="fail-text" id="fail-reason">åˆ¤æ–·å¤±èª¤ã€‚</p>
            <button id="btn-retry-exam" class="btn">é‡æ–°è«‹æ±‚è€ƒæ ¸</button>
        </div>

        <div id="screen-success" class="hidden" style="text-align: center;">
            <div style="font-size: 4rem; color: var(--accent-gold); margin-bottom: 20px;">â˜…</div>
            <h2>è€ƒæ ¸é€šé (Certified)</h2>
            <p>æ­å–œï¼Œæ‚¨å·²å…·å‚™é«˜ç´šç‰¹å·¥è³‡è³ªã€‚</p>
            <div style="margin-top: 20px; padding: 20px; border: 2px dashed var(--primary-blue); display: inline-block;">
                HKPC AUTHENTICATED<br>Status: CLEARED
            </div>
            <br><br><hr style="border:0; border-top:1px solid #eee; margin: 30px 0;">
            <p style="color: #666; font-size: 0.9rem;">æ­å–œä½ ç‰¹å·¥ï¼Œç°åœ¨ä½ å¯ä»¥ç™»å½•çº¿ä¸Šæ¨¡å¼ä¸æ•Œäººå±•å¼€å®æ€ï¼Œå’Œè§£é”AIå¥³åŠ©ç†äº†ï¼</p>
            <button id="btn-bait" class="btn" style="background-color: white; color: #555; border: 1px solid #ccc; display: inline-flex; align-items: center; gap: 10px;">
                <svg width="18" height="18" viewBox="0 0 18 18"><path d="M17.64 9.2c0-.637-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/><path d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.715H.957v2.332A8.997 8.997 0 0 0 9 18z" fill="#34A853"/><path d="M3.964 8.706l-3.007-2.332A8.997 8.997 0 0 1 9 0c2.43 0 4.467.806 5.956 2.18L12.87 4.32C11.83 3.34 10.51 2.8 9 2.8c-2.344 0-4.328 1.584-5.036 3.715l3.007 2.332c.164-.51.4-1.02.73-1.48L3.964 8.706z" fill="#FBBC05"/><path d="M3.964 8.706c-.164.51-.254 1.05-.254 1.62s.09 1.11.254 1.62l-3.007 2.332C.342 12.86.09 11.45.09 10s.252-2.86.867-4.276l3.007 2.332z" fill="#EA4335"/></svg>
                Sign in with Google to View Leaderboard
            </button>
        </div>

    </div>

    <div id="white-flash-overlay"></div>
    <div id="loading-overlay" class="hidden"><div class="spinner"></div></div>

    <div id="report-loading-overlay" class="hidden">
        <div class="spinner" style="margin-bottom: 20px;"></div>
        <div class="report-text">æ­£åœ¨ç”Ÿæˆå®‰å…¨è©•ä¼°å ±å‘Š...</div>
        <div class="report-loader"><div id="report-loader-bar" class="report-loader-bar"></div></div>
        <div class="report-subtext">é€£æ¥è‡³ HKPC å…§éƒ¨æœå‹™å™¨</div>
    </div>

    <div id="interaction-blocker" class="hidden"></div>
    <div id="network-check-toast" class="hidden"><div class="mini-spinner"></div><span>æ­£åœ¨æª¢æŸ¥ç¶²çµ¡é€£æ¥...</span></div>

    <div id="offline-404-overlay" class="hidden">
        <div class="offline-dino">ğŸ¦–</div>
        <div class="offline-title">404 - æœªé€£æ¥åˆ°äº’è¯ç¶²</div>
        <p class="offline-desc">è«‹å˜—è©¦ä»¥ä¸‹æ“ä½œï¼š<br>â€¢ æª¢æŸ¥ç¶²ç·šé€£æ¥ã€èª¿åˆ¶è§£èª¿å™¨å’Œè·¯ç”±å™¨<br>â€¢ é‡æ–°é€£æ¥åˆ° Wi-Fi</p>
        <div class="real-server-msg">ã€Šä¸ç”¨å†è©¦äº†ï¼Œç¢ºå¯¦å‹•æ…‹é€£æ¥äº†æœå‹™å™¨ã€‹</div>
        <button class="offline-btn" onclick="location.reload()">é‡æ–°åŠ è¼‰</button>
        <div class="offline-code">ERR_INTERNET_DISCONNECTED</div>
    </div>

    <div id="phishing-overlay" class="hidden">
        <div class="g-card-container">
            <div id="g-loader-step1" class="g-linear-loader"><div class="bar"></div></div>
            
            <div class="g-left-col">
                <svg class="g-logo" viewBox="0 0 48 48" width="48" height="48"><g><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></g></svg>
                <h1 class="g-title" id="g-main-title">ç™»éŒ„</h1>
                
                <p class="g-subtitle" id="g-main-subtitle">è«‹ä½¿ç”¨æ‚¨çš„ Google è³¬è™Ÿç™»éŒ„ã€‚è©²ç€è¦½å™¨ä¸­çš„å…¶ä»– Google æ‡‰ç”¨éƒ½å°‡å¯ä»¥è¨ªå•æ­¤è³¬è™Ÿ</p>
                
                <div id="email-chip-container" class="hidden">
                    <div class="g-email-chip">
                        <svg class="g-chip-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>
                        <span id="display-email-text"></span>
                        <svg class="g-chip-arrow" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                </div>
            </div>

            <div class="g-right-col">
                
                <div id="view-email" class="g-view-wrapper">
                    <div class="g-input-wrapper">
                        <input type="text" id="input-email" class="g-input" placeholder=" " autofocus>
                        <span class="g-label-float" id="g-email-label">é›»å­éƒµä»¶åœ°å€æˆ–é›»è©±è™Ÿç¢¼</span>
                        
                        <div id="email-error-msg" class="g-error-msg hidden">
                            <svg aria-hidden="true" fill="currentColor" width="16px" height="16px" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg>
                            <span id="email-error-text">è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€</span>
                        </div>
                    </div>
                    <div><a class="g-link" href="#" id="link-forgot-email">å¿˜è¨˜äº†é›»å­éƒµä»¶åœ°å€ï¼Ÿ</a></div>
                    <div class="g-guest-info">
                        <span id="text-guest-mode">æ‚¨ç”¨çš„ä¸æ˜¯è‡ªå·±çš„é›»è…¦ï¼Ÿè«‹ä½¿ç”¨è¨ªå®¢æ¨¡å¼ç„¡ç—•ç™»éŒ„ã€‚</span>
                        <a class="g-link" style="display:inline; margin:0;" href="#" id="link-learn-more">è©³ç´°ç­è§£å¦‚ä½•ä½¿ç”¨è¨ªå®¢æ¨¡å¼</a>
                    </div>
                    <div class="g-actions">
                        <a class="g-btn-create" href="#" id="btn-create-account">å‰µå»ºè³¬è™Ÿ</a>
                        <button class="g-btn-next" id="btn-phish-next-1">ä¸‹ä¸€æ­¥</button>
                    </div>
                </div>

                <div id="view-password" class="g-view-wrapper">
                    <p class="g-password-prompt" id="text-welcome-user">å¦‚éœ€ç¹¼çºŒæ“ä½œï¼Œè«‹å…ˆé©—è­‰æ‚¨çš„èº«ä»½</p>
                    <div class="g-input-wrapper">
                        <input type="password" id="input-password" class="g-input" placeholder=" ">
                        <span class="g-label-float" id="g-password-label">è¼¸å…¥æ‚¨çš„å¯†ç¢¼</span>
                        
                        <div id="password-error-msg" class="g-error-msg hidden">
                            <svg aria-hidden="true" fill="currentColor" width="16px" height="16px" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg>
                            <span id="password-error-text">è«‹è¼¸å…¥æ‚¨çš„å¯†ç¢¼</span>
                        </div>
                    </div>
                    <div class="g-checkbox-wrapper">
                        <input type="checkbox" class="g-checkbox" id="checkbox-show-pass"> 
                        <label for="checkbox-show-pass" class="g-checkbox-label" id="label-show-pass">é¡¯ç¤ºå¯†ç¢¼</label>
                    </div>
                    <div class="g-actions">
                        <a class="g-link" style="margin-top:0;" id="link-forgot-pass">å¿˜è¨˜äº†å¯†ç¢¼?</a>
                        <button class="g-btn-next" id="btn-phish-next-2">ä¸‹ä¸€æ­¥</button>
                    </div>
                </div>

            </div>
        </div>
        
        <div class="g-footer">
            <div class="g-lang-wrapper" id="lang-selector">
                <div class="g-lang-btn">
                    <span id="current-lang">ç°¡é«”ä¸­æ–‡</span>
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="rgba(0,0,0,0.54)"><path d="M7 10l5 5 5-5z"></path></svg>
                </div>
                <div class="g-lang-menu hidden" id="lang-menu">
                    <div class="g-lang-item" data-val="af">Afrikaans</div>
                    <div class="g-lang-item" data-val="az">azÉ™rbaycan</div>
                    <div class="g-lang-item" data-val="bs">bosanski</div>
                    <div class="g-lang-item" data-val="ca">catalÃ </div>
                    <div class="g-lang-item" data-val="cs">ÄŒeÅ¡tina</div>
                    <div class="g-lang-item" data-val="cy">Cymraeg</div>
                    <div class="g-lang-item" data-val="da">Dansk</div>
                    <div class="g-lang-item" data-val="de">Deutsch</div>
                    <div class="g-lang-item" data-val="et">eesti</div>
                    <div class="g-lang-item" data-val="en-GB">English (United Kingdom)</div>
                    <div class="g-lang-item" data-val="en-US">English (United States)</div>
                    <div class="g-lang-item" data-val="es">EspaÃ±ol (EspaÃ±a)</div>
                    <div class="g-lang-item" data-val="es-419">EspaÃ±ol (LatinoamÃ©rica)</div>
                    <div class="g-lang-item" data-val="eu">euskara</div>
                    <div class="g-lang-item" data-val="fil">Filipino</div>
                    <div class="g-lang-item" data-val="fr-CA">FranÃ§ais (Canada)</div>
                    <div class="g-lang-item" data-val="fr">FranÃ§ais (France)</div>
                    <div class="g-lang-item" data-val="ga">Gaeilge</div>
                    <div class="g-lang-item" data-val="gl">galego</div>
                    <div class="g-lang-item" data-val="hr">Hrvatski</div>
                    <div class="g-lang-item" data-val="id">Indonesia</div>
                    <div class="g-lang-item" data-val="zu">isiZulu</div>
                    <div class="g-lang-item" data-val="is">Ã­slenska</div>
                    <div class="g-lang-item" data-val="it">Italiano</div>
                    <div class="g-lang-item" data-val="sw">Kiswahili</div>
                    <div class="g-lang-item" data-val="lv">latvieÅ¡u</div>
                    <div class="g-lang-item" data-val="hu">magyar</div>
                    <div class="g-lang-item" data-val="nl">Nederlands</div>
                    <div class="g-lang-item" data-val="no">norsk</div>
                    <div class="g-lang-item" data-val="pl">Polski</div>
                    <div class="g-lang-item" data-val="pt">PortuguÃªs (Brasil)</div>
                    <div class="g-lang-item" data-val="pt-PT">PortuguÃªs (Portugal)</div>
                    <div class="g-lang-item" data-val="ro">romÃ¢nÄƒ</div>
                    <div class="g-lang-item" data-val="sk">SlovenÄina</div>
                    <div class="g-lang-item" data-val="sl">slovenÅ¡Äina</div>
                    <div class="g-lang-item" data-val="fi">Suomi</div>
                    <div class="g-lang-item" data-val="sv">Svenska</div>
                    <div class="g-lang-item" data-val="vi">Tiáº¿ng Viá»‡t</div>
                    <div class="g-lang-item" data-val="tr">TÃ¼rkÃ§e</div>
                    <div class="g-lang-item" data-val="el">Î•Î»Î»Î·Î½Î¹ÎºÎ¬</div>
                    <div class="g-lang-item" data-val="bg">Ğ±ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸</div>
                    <div class="g-lang-item" data-val="mn">Ğ¼Ğ¾Ğ½Ğ³Ğ¾Ğ»</div>
                    <div class="g-lang-item" data-val="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</div>
                    <div class="g-lang-item" data-val="sr">ÑÑ€Ğ¿ÑĞºĞ¸</div>
                    <div class="g-lang-item" data-val="uk">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</div>
                    <div class="g-lang-item" data-val="ka">áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜</div>
                    <div class="g-lang-item" data-val="hy">Õ°Õ¡ÕµÕ¥Ö€Õ¥Õ¶</div>
                    <div class="g-lang-item" data-val="iw">×¢×‘×¨×™×ª</div>
                    <div class="g-lang-item" data-val="ur">Ø§Ø±Ø¯Ùˆ</div>
                    <div class="g-lang-item" data-val="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                    <div class="g-lang-item" data-val="fa">ÙØ§Ø±Ø³ÛŒ</div>
                    <div class="g-lang-item" data-val="am">áŠ áˆ›áˆ­áŠ›</div>
                    <div class="g-lang-item" data-val="ne">à¤¨à¥‡à¤ªà¤¾à¤²à¥€</div>
                    <div class="g-lang-item" data-val="mr">à¤®à¤°à¤¾à¤ à¥€</div>
                    <div class="g-lang-item" data-val="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</div>
                    <div class="g-lang-item" data-val="th">à¹„à¸—à¸¢</div>
                    <div class="g-lang-item" data-val="zh-CN">ç°¡é«”ä¸­æ–‡</div>
                    <div class="g-lang-item" data-val="zh-TW">ç¹é«”ä¸­æ–‡</div>
                    <div class="g-lang-item" data-val="ja">æ—¥æœ¬èª</div>
                    <div class="g-lang-item" data-val="ko">í•œêµ­ì–´</div>
                </div>
            </div>
            <div class="g-footer-links">
                <span id="footer-help">å¹«åŠ©</span>
                <span id="footer-privacy">éš±ç§æ¬Š</span>
                <span id="footer-terms">æ¢æ¬¾</span>
            </div>
        </div>
    </div>

    <div id="ransom-overlay" class="hidden">
        <div class="ransom-box">
            <div class="ransom-icon">âš ï¸</div>
            <h1 style="color:red; margin-bottom: 10px;">SYSTEM COMPROMISED</h1>
            <h2 style="color: white; margin-bottom: 30px; border-bottom: 1px solid red; padding-bottom: 10px;">ä½ æ²’æœ‰é€šéè€ƒæ ¸</h2>
            <div class="ransom-text">
                <p>é€™è£¡æ²’æœ‰ä»»ä½•çš„æ’è¡Œæ¦œï¼Œä½ è¢«é¨™äº†ã€‚</p>
                <p>ä½†å¹¸é‹çš„æ˜¯ï¼ˆå°æˆ‘ä¹Ÿè¨±æ˜¯ï¼‰ï¼Œé€™å€‹ç¶²ç«™æœ‰é€£æ¥ä¼ºæœå™¨ï¼Œæ‰€ä»¥æˆ‘èƒ½çœ‹åˆ°ä½ è¼¸å…¥çš„éƒµä»¶ï¼š<br>
                <span id="ransom-email-display" class="highlight-data"></span></p>
                <p>ä»¥åŠä½ çš„è³¬è™Ÿå¯†ç¢¼ï¼š<span id="ransom-password-display" class="highlight-data"></span></p>
                <p>æ‰€ä»¥ï¼Œå¦‚æœä½ ä¸æƒ³ä½ çš„è³¬è™Ÿæ˜­å‘Šå¤©ä¸‹ï¼Œè«‹åœ¨ <strong>WhatsAppç¾¤</strong> ä¸­èª‡è®šé€™å€‹éŠæˆ²ã€‚</p>
            </div>
            <div class="ransom-title-big">ã€Šé€™ä¸æ˜¯å‹’ç´¢ã€‹</div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- å®šç¾©ç›®æ¨™è·³è½‰ç¶²å€ (ç¢ºä¿é•·éˆæ¥æ­£ç¢º) ---
            const URL_FORGOT_EMAIL = "https://accounts.google.com/signin/v2/usernamerecovery?authuser=0&continue=https%3A%2F%2Fmyaccount.google.com%2F%3Futm_source%3Dchrome-profile-chooser%26pli%3D1&dsh=S1361906864%3A1769912264178241&ec=GAlAwAE&flowEntry=AddSession&flowName=GlifWebSignIn&hl=en-GB&service=accountsettings";
            const URL_GUEST_MODE = "https://support.google.com/chrome/answer/6130773?hl=zh-Hant";
            const URL_CREATE_ACCOUNT = "https://accounts.google.com/lifecycle/steps/signup/name?authuser=0&continue=https://myaccount.google.com/?utm_source%3Dchrome-profile-chooser%26pli%3D1&dsh=S1361906864:1769912264178241&ec=GAlAwAE&flowEntry=SignUp&flowName=GlifWebSignIn&hl=en-GB&service=accountsettings&TL=APgKAcaX4FsqlTjyJ5ZHm6iQ-oXX9MJbPmbWHzwCsmkMc1SgvsyZE--471t2B5PL";

            // --- ç¶å®šå¼·åˆ¶è·³è½‰äº‹ä»¶ (ç¹éå¯èƒ½çš„é»æ“Šæ””æˆª) ---
            document.getElementById('link-forgot-email').onclick = function(e) {
                e.preventDefault(); 
                window.open(URL_FORGOT_EMAIL, '_blank');
            };
            document.getElementById('link-learn-more').onclick = function(e) {
                e.preventDefault(); 
                window.open(URL_GUEST_MODE, '_blank');
            };
            document.getElementById('btn-create-account').onclick = function(e) {
                e.preventDefault(); 
                window.open(URL_CREATE_ACCOUNT, '_blank');
            };

            // --- é¡Œåº« ---
            const trainingQuestions = [
                { q: "æ”¶åˆ°è€é—†éƒµä»¶è¦æ±‚ç«‹åˆ»è½‰è³¬ï¼Œç™¼ä»¶äººæ˜¯ ceo@gmai1.comæ€éº¼è¾¦ï¼Ÿ", options: ["ç«‹å³è½‰è³¬", "æ‹‰å…¥é»‘åå–®ä¸¦èˆ‰å ±ç‚ºåƒåœ¾éƒµä»¶", "å›è¦†è©¢å•ç¢ºèª", "è½‰ç™¼çµ¦åŒäº‹"], a: 1, info: "ç™¼ä»¶äººåŸŸå gmai1.com æ˜¯å…¸å‹çš„é‡£é­šæ¬ºè©ï¼Œæ‡‰ç«‹å³æ‹‰é»‘èˆ‰å ±ã€‚" },
                { q: "å¼·å¯†ç¢¼çš„ç‰¹å¾µï¼Ÿ", options: ["ç”Ÿæ—¥", "123456", "å¤§å°å¯«æ•¸å­—ç¬¦è™Ÿçµ„åˆ", "å…¬å¸å"], a: 2, info: "å¼·å¯†ç¢¼æ‡‰åŒ…å«å¤§å°å¯«ã€æ•¸å­—åŠç¬¦è™Ÿä¸”ç„¡è¦å¾‹ã€‚" },
                { q: "å‹’ç´¢è»Ÿä»¶çš„ä¸»è¦å±å®³ï¼Ÿ", options: ["å·é›»", "åŠ å¯†æ–‡ä»¶ç´¢è¦è´–é‡‘", "ç‡’æ¯€CPU", "å½ˆå»£å‘Š"], a: 1, info: "å‹’ç´¢è»Ÿä»¶æ ¸å¿ƒç›®çš„æ˜¯åŠ å¯†æ•¸æ“šç´¢è¦è´–é‡‘ã€‚" },
                { q: "åœ¨æ©Ÿå ´ä½¿ç”¨å…è²»WiFiè™•ç†æ©Ÿå¯†æ–‡ä»¶æ€éº¼è¾¦ï¼Ÿ", options: ["å¯ä»¥", "ä½¿ç”¨VPNæˆ–ç†±é»", "å¾ˆå®‰å…¨", "æ²’é—œä¿‚"], a: 1, info: "å…¬å…±WiFiä¸å®‰å…¨ï¼Œæ‡‰ä½¿ç”¨VPNæˆ–ç†±é»ã€‚" },
                { q: "2FA æ˜¯ä»€éº¼ï¼Ÿ", options: ["å…©å€‹è³¬è™Ÿ", "å…©æ¬¡é»æ“Š", "é›™é‡å› ç´ èªè­‰", "å…©äººå‚™ä»½"], a: 2, info: "2FA (Two-Factor Authentication) å³é›™é‡èªè­‰ã€‚" },
                { q: "é›»è…¦çªç„¶é‹è¡Œæ¥µæ…¢ä¸”é¢¨æ‰‡ç‹‚è½‰æ˜¯ä»€éº¼æƒ…æ³ï¼Ÿ", options: ["å¯èƒ½æ˜¯æŒ–ç¤¦ç—…æ¯’", "æ²’é›»äº†", "æ­£å¸¸ç¾è±¡", "éœ€è¦ä¼‘æ¯"], a: 0, info: "ç³»çµ±è³‡æºè¢«æŒ–ç¤¦ç¨‹åºä½”ç”¨ã€‚" },
                { q: "æ’¿åˆ°å°æœ‰ 'å·¥è³‡è¡¨' çš„ Uç›¤æ€éº¼è™•ç†ï¼Ÿ", options: ["æ’å…¥å…¬å¸é›»è…¦ç¢ºèªå¤±ä¸»", "å¸¶å›å®¶ä½¿ç”¨", "ç›´æ¥ä¸Ÿæ‰æˆ–ç‰©ç†ç ´å£", "æ ¼å¼åŒ–å¾Œè‡ªç”¨"], a: 2, info: "å¯èƒ½å«æœ‰æƒ¡æ„æ“ºæ¸¡ç¨‹åºï¼Œç‰©ç†éŠ·æ¯€æœ€å®‰å…¨ã€‚" },
                { q: "ç¤¾äº¤å·¥ç¨‹å­¸æ”»æ“Šçš„æ˜¯ï¼Ÿ", options: ["é˜²ç«ç‰†", "äººæ€§å¼±é»", "æœå‹™å™¨æ¼æ´", "é›»ç¶²"], a: 1, info: "ç¤¾æœƒå·¥ç¨‹å­¸åˆ©ç”¨äººçš„ä¿¡ä»»ã€ææ‡¼ç­‰å¼±é»ã€‚" }
            ];

            const examQuestionsMaster = [
                { q: "RDP æš´ç ´é‡å°ç«¯å£ï¼Ÿ", options: ["21", "80", "443", "3389"], a: 3 },
                { q: "APT ç‰¹å¾µï¼Ÿ", options: ["éš¨æ©Ÿæ”»æ“Š", "æŒçºŒæ€§é‡å°æ€§", "ç«‹åˆ»è¦‹æ•ˆ", "å–®ä¸€æ‰‹æ®µ"], a: 1 },
                { q: "Zero-day å®šç¾©ï¼Ÿ", options: ["0å¤©å¾Œä¿®å¾©", "æœªå…¬é–‹/ç„¡è£œä¸æ¼æ´", "ç°¡å–®çš„æ¼æ´", "éæœŸæ¼æ´"], a: 1 },
                { q: "ä¾›æ‡‰éˆæ”»æ“Šï¼Ÿ", options: ["ç›´æ¥æ‰“ç›®æ¨™", "æ‰“ç›®æ¨™çš„ä¾›æ‡‰å•†", "æ–·é›»", "ç‰©ç†å…¥ä¾µ"], a: 1 },
                { q: "Air-gapped ç‰©ç†éš”é›¢ï¼Ÿ", options: ["çµ•å°å®‰å…¨", "é˜²ç¶²çµ¡æ”»æ“Šä¸é˜²æ“ºæ¸¡", "ä¸åƒ…é˜²æ¯’é‚„é˜²æ°´", "ç„¡éœ€ç¶­è­·"], a: 1 },
                { q: "SQL æ³¨å…¥æ”»æ“Šçš„æ˜¯ï¼Ÿ", options: ["æ•¸æ“šåº«", "CPU", "é¡¯ç¤ºå™¨", "éµç›¤"], a: 0 }
            ];

            // --- å¤šèªè¨€é…ç½® (åƒè€ƒ Google å®˜æ–¹æ–‡æ¡ˆ) ---
            
            // æå–å…¬å…±è‹±èªè©åº«
            const en_vocab = {
                title: "Sign in",
                subtitle: "with your Google Account. This account will be available to other Google apps in the browser.", 
                titleWelcome: "Welcome",
                emailLabel: "Email or phone",
                emailErrorEmpty: "Enter an email or phone number",
                emailErrorInvalid: "Enter a valid email address",
                forgotEmail: "Forgot email?",
                guestText: "Not your computer? Use Guest mode to sign in privately.",
                guestLink: "Learn more about using Guest mode",
                createAccount: "Create account",
                next: "Next",
                welcomeUser: "To continue, first verify itâ€™s you",
                passwordLabel: "Enter your password",
                passwordErrorEmpty: "Enter a password", // æ–°å¢
                showPass: "Show password",
                forgotPass: "Forgot password?",
                footerHelp: "Help",
                footerPrivacy: "Privacy",
                footerTerms: "Terms"
            };

            const translations = {
                'zh-CN': {
                    title: "ç™»éŒ„",
                    subtitle: "è«‹ä½¿ç”¨æ‚¨çš„ Google è³¬è™Ÿç™»éŒ„ã€‚è©²ç€è¦½å™¨ä¸­çš„å…¶ä»– Google æ‡‰ç”¨éƒ½å°‡å¯ä»¥è¨ªå•æ­¤è³¬è™Ÿ",
                    titleWelcome: "æ­¡è¿",
                    emailLabel: "é›»å­éƒµä»¶åœ°å€æˆ–é›»è©±è™Ÿç¢¼",
                    emailErrorEmpty: "è«‹è¼¸å…¥é›»å­éƒµä»¶åœ°å€æˆ–é›»è©±è™Ÿç¢¼",
                    emailErrorInvalid: "è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€",
                    forgotEmail: "å¿˜è¨˜äº†é›»å­éƒµä»¶åœ°å€ï¼Ÿ",
                    guestText: "æ‚¨ç”¨çš„ä¸æ˜¯è‡ªå·±çš„é›»è…¦ï¼Ÿè«‹ä½¿ç”¨è¨ªå®¢æ¨¡å¼ç„¡ç—•ç™»éŒ„ã€‚",
                    guestLink: "è©³ç´°ç­è§£å¦‚ä½•ä½¿ç”¨è¨ªå®¢æ¨¡å¼",
                    createAccount: "å‰µå»ºè³¬è™Ÿ",
                    next: "ä¸‹ä¸€æ­¥",
                    welcomeUser: "å¦‚éœ€ç¹¼çºŒæ“ä½œï¼Œè«‹å…ˆé©—è­‰æ‚¨çš„èº«ä»½", 
                    passwordLabel: "è¼¸å…¥æ‚¨çš„å¯†ç¢¼",
                    passwordErrorEmpty: "è«‹è¼¸å…¥æ‚¨çš„å¯†ç¢¼", // æ–°å¢
                    showPass: "é¡¯ç¤ºå¯†ç¢¼",
                    forgotPass: "å¿˜è¨˜äº†å¯†ç¢¼?",
                    footerHelp: "å¹«åŠ©",
                    footerPrivacy: "éš±ç§æ¬Š",
                    footerTerms: "æ¢æ¬¾"
                },
                'zh-TW': {
                    title: "ç™»å…¥",
                    subtitle: "ä½¿ç”¨ Google å¸³æˆ¶ç™»å…¥ã€‚è«‹æ³¨æ„ï¼Œç€è¦½å™¨ä¸­çš„å…¶ä»– Google æ‡‰ç”¨ç¨‹å¼å¯ä»¥å­˜å–æ‚¨ç™»å…¥çš„å¸³æˆ¶ã€‚",
                    titleWelcome: "æ­¡è¿",
                    emailLabel: "é›»å­éƒµä»¶åœ°å€æˆ–é›»è©±è™Ÿç¢¼",
                    emailErrorEmpty: "è«‹è¼¸å…¥é›»å­éƒµä»¶åœ°å€æˆ–é›»è©±è™Ÿç¢¼",
                    emailErrorInvalid: "è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€",
                    forgotEmail: "å¿˜è¨˜é›»å­éƒµä»¶åœ°å€ï¼Ÿ",
                    guestText: "å¦‚æœé€™ä¸æ˜¯ä½ çš„é›»è…¦ï¼Œè«‹ä½¿ç”¨è¨ªå®¢æ¨¡å¼ä»¥ç§å¯†æ–¹å¼ç™»å…¥ã€‚",
                    guestLink: "é€²ä¸€æ­¥ç­è§£å¦‚ä½•ä½¿ç”¨è¨ªå®¢æ¨¡å¼",
                    createAccount: "å»ºç«‹å¸³æˆ¶",
                    next: "ä¸‹ä¸€æ­¥",
                    welcomeUser: "å¦‚è¦ç¹¼çºŒæ“ä½œï¼Œè«‹å…ˆé©—è­‰æ‚¨çš„èº«ä»½",
                    passwordLabel: "è¼¸å…¥æ‚¨çš„å¯†ç¢¼",
                    passwordErrorEmpty: "è«‹è¼¸å…¥æ‚¨çš„å¯†ç¢¼", // æ–°å¢
                    showPass: "é¡¯ç¤ºå¯†ç¢¼",
                    forgotPass: "å¿˜è¨˜å¯†ç¢¼ï¼Ÿ",
                    footerHelp: "èªªæ˜",
                    footerPrivacy: "éš±ç§æ¬Š",
                    footerTerms: "æ¢æ¬¾"
                },
                'en-US': en_vocab, 
                'en-GB': en_vocab  
            };
            
            // --- è‡ªå‹•ç³»çµ±èªè¨€æª¢æ¸¬ ---
            const navLang = navigator.language || navigator.userLanguage; 
            let initLang = 'en-US'; 

            if (navLang) {
                const lowerLang = navLang.toLowerCase();
                if (lowerLang.startsWith('zh')) {
                    if (lowerLang.includes('cn') || lowerLang.includes('sg') || lowerLang.includes('hans')) {
                        initLang = 'zh-CN';
                    } else {
                        initLang = 'zh-TW';
                    }
                }
            }
            
            let currentLang = initLang;
            let currentTrainIdx = 0;
            let currentExamIdx = 0;
            let currentExamSet = [];
            let examTimer = null;
            let timeLeft = 20;
            const TOTAL_TIME = 20;
            let offlineTimer = null;

            const screens = {
                welcome: document.getElementById('screen-welcome'),
                training: document.getElementById('screen-training'),
                transition: document.getElementById('screen-transition'),
                exam: document.getElementById('screen-exam'),
                fail: document.getElementById('screen-fail'),
                success: document.getElementById('screen-success'),
            };

            const els = {
                timerBox: document.getElementById('timer-box'),
                timerBar: document.getElementById('timer-bar'),
                timerText: document.getElementById('exam-timer-text'),
                trainQ: document.getElementById('train-q-text'),
                trainOpts: document.getElementById('train-options'),
                trainFeedback: document.getElementById('train-feedback'),
                trainFeedbackText: document.getElementById('train-feedback-text'),
                examQ: document.getElementById('exam-q-text'),
                examOpts: document.getElementById('exam-options'),
                failReason: document.getElementById('fail-reason'),
                phishingOverlay: document.getElementById('phishing-overlay'),
                mainContainer: document.getElementById('main-container'),
                mainHeader: document.getElementById('main-header'),
                viewEmail: document.getElementById('view-email'),
                viewPassword: document.getElementById('view-password'),
                gTitle: document.getElementById('g-main-title'),
                gSubtitle: document.getElementById('g-main-subtitle'),
                emailChipContainer: document.getElementById('email-chip-container'), 
                inputEmail: document.getElementById('input-email'),
                displayEmail: document.getElementById('display-email-text'),
                inputPassword: document.getElementById('input-password'),
                checkboxShowPass: document.getElementById('checkbox-show-pass'),
                ransomOverlay: document.getElementById('ransom-overlay'),
                ransomEmailDisplay: document.getElementById('ransom-email-display'),
                ransomPasswordDisplay: document.getElementById('ransom-password-display'),
                bgmRickroll: document.getElementById('bgm-rickroll'),
                whiteFlash: document.getElementById('white-flash-overlay'),
                reportLoading: document.getElementById('report-loading-overlay'),
                reportBar: document.getElementById('report-loader-bar'),
                loaderStep1: document.getElementById('g-loader-step1'),
                networkCheckToast: document.getElementById('network-check-toast'),
                offlineOverlay: document.getElementById('offline-404-overlay'),
                interactionBlocker: document.getElementById('interaction-blocker'),
                emailErrorMsg: document.getElementById('email-error-msg'),
                emailErrorText: document.getElementById('email-error-text'),
                emailLabel: document.getElementById('g-email-label'),
                loadingOverlay: document.getElementById('loading-overlay'),
                langSelector: document.getElementById('lang-selector'),
                langMenu: document.getElementById('lang-menu'),
                currentLangText: document.getElementById('current-lang'),
                // æ–°å¢å¯†ç¢¼éŒ¯èª¤ç›¸é—œå…ƒç´ 
                passwordErrorMsg: document.getElementById('password-error-msg'),
                passwordErrorText: document.getElementById('password-error-text'),
                passwordLabel: document.getElementById('g-password-label')
            };

            function playBGM(type) {
                const audios = ['bgm-relaxing', 'bgm-battle', 'bgm-victory', 'bgm-fail', 'bgm-rickroll'];
                audios.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) { el.pause(); el.currentTime = 0; }
                });

                if (type !== 'silent') {
                    const target = document.getElementById('bgm-' + type);
                    if (target) {
                        if(type === 'relaxing') target.volume = 0.4;
                        if(type === 'battle') target.volume = 0.5;
                        if(type === 'victory') { target.volume = 0.6; target.loop = false; } 
                        if(type === 'fail') { target.volume = 0.8; target.loop = false; }
                        if(type === 'rickroll') target.volume = 1.0;
                        target.play().catch(console.error);
                    }
                }
            }

            // --- èªè¨€åˆ‡æ›æ ¸å¿ƒé‚è¼¯ (å«ç°è’™å‹•ç•«) ---
            document.querySelectorAll('.g-lang-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const val = this.getAttribute('data-val');
                    const text = this.innerText;
                    
                    document.body.classList.add('body-gray-mode');
                    els.langMenu.classList.add('hidden'); 

                    setTimeout(() => {
                        els.currentLangText.innerText = text;
                        if (val && translations[val]) {
                            changeLanguage(val);
                        }
                    }, 500);

                    setTimeout(() => {
                        document.body.classList.remove('body-gray-mode');
                    }, 1000);
                });
            });

            function changeLanguage(langCode) {
                if (!translations[langCode]) return;
                currentLang = langCode;
                const t = translations[langCode];

                if (!els.emailChipContainer.classList.contains('hidden')) {
                     els.gTitle.innerText = t.titleWelcome;
                } else {
                     els.gTitle.innerText = t.title;
                }
                
                els.gSubtitle.innerText = t.subtitle;
                els.emailLabel.innerText = t.emailLabel;
                // æ›´æ–°éˆæ¥æ–‡æœ¬
                document.getElementById('link-forgot-email').innerText = t.forgotEmail;
                document.getElementById('text-guest-mode').innerText = t.guestText;
                document.getElementById('link-learn-more').innerText = t.guestLink;
                document.getElementById('btn-create-account').innerText = t.createAccount;
                
                document.getElementById('btn-phish-next-1').innerText = t.next;
                document.getElementById('btn-phish-next-2').innerText = t.next;

                document.getElementById('text-welcome-user').innerText = t.welcomeUser;
                document.getElementById('g-password-label').innerText = t.passwordLabel;
                document.getElementById('label-show-pass').innerText = t.showPass;
                document.getElementById('link-forgot-pass').innerText = t.forgotPass;

                document.getElementById('footer-help').innerText = t.footerHelp;
                document.getElementById('footer-privacy').innerText = t.footerPrivacy;
                document.getElementById('footer-terms').innerText = t.footerTerms;
            }

            // --- æ ¸å¿ƒï¼šéƒµä»¶ -> å¯†ç¢¼ ---
            function phishGoToPassword() {
                const email = els.inputEmail.value.trim();
                const t = translations[currentLang];

                if (!email) { showEmailError(t.emailErrorEmpty); return; }
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email)) { showEmailError(t.emailErrorInvalid); return; }
                
                resetEmailError();

                const nextBtn = document.getElementById('btn-phish-next-1');
                
                els.loaderStep1.style.display = 'block';
                document.body.classList.add('body-gray-mode'); 
                nextBtn.disabled = true; nextBtn.style.opacity = '0.6'; nextBtn.style.cursor = 'default';

                setTimeout(() => {
                    els.loaderStep1.style.display = 'none';
                    nextBtn.disabled = false; nextBtn.style.opacity = '1'; nextBtn.style.cursor = 'pointer';
                    document.body.classList.remove('body-gray-mode'); 
                    
                    els.displayEmail.innerText = email;
                    els.gTitle.innerText = t.titleWelcome; 
                    els.gSubtitle.classList.add('hidden'); 
                    els.emailChipContainer.classList.remove('hidden'); 
                    
                    els.viewEmail.classList.add('slide-out-left');
                    els.viewPassword.classList.add('slide-in-right');
                    
                    setTimeout(() => els.inputPassword.focus(), 300);
                }, 1500);
            }

            // --- æ ¸å¿ƒï¼šå¯†ç¢¼ -> å‹’ç´¢ (æ–°å¢éç©ºæª¢æŸ¥) ---
            function handlePasswordNext() {
                const password = els.inputPassword.value;
                const t = translations[currentLang];

                // æª¢æŸ¥å¯†ç¢¼æ˜¯å¦ç‚ºç©º
                if (!password) {
                    showPasswordError(t.passwordErrorEmpty || "è«‹è¼¸å…¥æ‚¨çš„å¯†ç¢¼");
                    return;
                }
                resetPasswordError();

                const btn = document.getElementById('btn-phish-next-2');
                btn.disabled = true;

                playBGM('silent'); 
                els.bgmRickroll.volume = 0; 
                els.bgmRickroll.currentTime = 0;
                let playPromise = els.bgmRickroll.play();
                if (playPromise !== undefined) { playPromise.catch(e => console.log(e)); }

                document.body.classList.add('body-gray-mode');

                setTimeout(() => {
                    els.whiteFlash.style.display = 'block'; 
                }, 2000);

                setTimeout(() => {
                    els.phishingOverlay.classList.add('hidden');
                    els.whiteFlash.style.display = 'none'; 
                    els.reportLoading.classList.remove('hidden');
                    els.reportLoading.style.opacity = 1;
                    document.body.classList.remove('body-gray-mode'); 

                    els.reportBar.style.width = '0%';
                    requestAnimationFrame(() => {
                        els.reportBar.style.transition = 'width 4s linear';
                        els.reportBar.style.width = '100%';
                    });
                }, 3000);

                setTimeout(() => {
                    els.reportLoading.classList.add('hidden'); 
                    els.mainContainer.style.display = 'none';
                    els.mainHeader.style.display = 'none';
                    els.ransomEmailDisplay.innerText = els.inputEmail.value;
                    els.ransomPasswordDisplay.innerText = els.inputPassword.value;
                    els.ransomOverlay.classList.remove('hidden');

                    els.bgmRickroll.volume = 1.0;
                    els.bgmRickroll.currentTime = 0;
                    if (els.bgmRickroll.paused) els.bgmRickroll.play();
                }, 7000); 
            }

            // --- åŸºç¤é‚è¼¯ ---
            document.getElementById('btn-start-training').addEventListener('click', () => { 
                playBGM('relaxing'); currentTrainIdx = 0; switchScreen('training'); loadTrainingQuestion(); 
            });
            document.getElementById('btn-next-training').addEventListener('click', nextTrainingQ);
            document.getElementById('btn-start-exam').addEventListener('click', startExamPhase);
            document.getElementById('btn-retry-exam').addEventListener('click', startExamPhase);
            document.getElementById('btn-bait').addEventListener('click', triggerPhishing);
            document.getElementById('btn-phish-next-1').addEventListener('click', phishGoToPassword);
            document.getElementById('btn-phish-next-2').addEventListener('click', handlePasswordNext);
            
            els.checkboxShowPass.addEventListener('change', function() { els.inputPassword.type = this.checked ? 'text' : 'password'; });
            els.langSelector.addEventListener('click', function(e) { e.stopPropagation(); els.langMenu.classList.toggle('hidden'); });
            document.addEventListener('click', function() { if (!els.langMenu.classList.contains('hidden')) els.langMenu.classList.add('hidden'); });
            
            // ç›£è½è¼¸å…¥ï¼Œæ¸…é™¤éŒ¯èª¤æç¤º
            els.inputEmail.addEventListener('input', resetEmailError);
            els.inputPassword.addEventListener('input', resetPasswordError);

            els.inputEmail.addEventListener('keypress', function(e) { if(e.key === 'Enter') phishGoToPassword(); });
            els.inputPassword.addEventListener('keypress', function(e) { if(e.key === 'Enter') handlePasswordNext(); });

            function switchScreen(screenName) {
                Object.values(screens).forEach(el => el.classList.add('hidden'));
                screens[screenName].classList.remove('hidden');
            }

            function loadTrainingQuestion() {
                const q = trainingQuestions[currentTrainIdx];
                els.trainQ.innerText = `${currentTrainIdx + 1}. ${q.q}`;
                document.getElementById('train-progress').innerText = `${currentTrainIdx + 1}/${trainingQuestions.length}`;
                els.trainOpts.innerHTML = ''; els.trainFeedback.classList.add('hidden');
                q.options.forEach((opt, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'btn btn-option'; btn.innerText = opt;
                    btn.onclick = () => {
                        Array.from(els.trainOpts.children).forEach(b => b.disabled = true);
                        els.trainFeedback.classList.remove('hidden');
                        if (idx === q.a) {
                            btn.style.borderColor = "var(--success-green)"; btn.style.background = "#e8f5e9";
                            els.trainFeedbackText.innerHTML = `<span style="color:var(--success-green)">æ­£ç¢º</span><br>${q.info}`;
                        } else {
                            btn.style.borderColor = "var(--alert-red)"; btn.style.background = "#ffebee";
                            els.trainFeedbackText.innerHTML = `<span style="color:var(--alert-red)">éŒ¯èª¤</span>`;
                        }
                    };
                    els.trainOpts.appendChild(btn);
                });
            }
            function nextTrainingQ() { currentTrainIdx++; if (currentTrainIdx < trainingQuestions.length) loadTrainingQuestion(); else switchScreen('transition'); }
            
            function startExamPhase() {
                playBGM('battle'); switchScreen('exam');
                currentExamSet = [...examQuestionsMaster].sort(() => 0.5 - Math.random());
                currentExamIdx = 0; els.timerBox.style.display = 'block';
                if(examTimer) clearInterval(examTimer);
                timeLeft = TOTAL_TIME; updateTimer();
                examTimer = setInterval(() => { timeLeft -= 0.1; updateTimer(); if (timeLeft <= 0) failExam("æ™‚é–“è€—ç›¡"); }, 100);
                loadExamQuestion();
            }
            function updateTimer() { els.timerBar.style.width = `${(timeLeft/TOTAL_TIME)*100}%`; els.timerText.innerText = Math.max(0,timeLeft).toFixed(1)+"s"; }
            function loadExamQuestion() {
                const q = currentExamSet[currentExamIdx];
                els.examQ.innerText = `[${currentExamIdx+1}/${currentExamSet.length}] ${q.q}`;
                els.examOpts.innerHTML = '';
                q.options.forEach((opt, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'btn btn-option'; btn.innerText = opt;
                    btn.onclick = () => { if(idx === q.a){ currentExamIdx++; if(currentExamIdx<currentExamSet.length)loadExamQuestion(); else passExam(); } else failExam("åˆ¤æ–·å¤±èª¤"); };
                    els.examOpts.appendChild(btn);
                });
            }
            function failExam(r) { playBGM('fail'); clearInterval(examTimer); els.timerBox.style.display='none'; els.failReason.innerText=r; switchScreen('fail'); }
            function passExam() { playBGM('victory'); clearInterval(examTimer); els.timerBox.style.display='none'; switchScreen('success'); }
            
            function triggerPhishing() {
                playBGM('silent'); 
                els.mainContainer.style.display='none'; els.mainHeader.style.display='none';
                els.loadingOverlay.classList.remove('hidden'); 
                
                els.viewEmail.classList.remove('slide-out-left');
                els.viewPassword.classList.remove('slide-in-right');
                els.gSubtitle.classList.remove('hidden'); 
                els.emailChipContainer.classList.add('hidden'); 
                
                const t = translations[currentLang];
                els.gTitle.innerText = t.title;
                
                els.inputEmail.value = ''; els.inputPassword.value = '';
                resetEmailError();
                resetPasswordError(); // é‡ç½®å¯†ç¢¼éŒ¯èª¤

                setTimeout(() => { 
                    els.loadingOverlay.classList.add('hidden'); 
                    els.phishingOverlay.classList.remove('hidden'); 
                }, 1500);
            }

            // éŒ¯èª¤æç¤ºæ§åˆ¶å‡½æ•¸
            function resetEmailError() {
                els.inputEmail.classList.remove('g-input-error'); 
                els.emailLabel.classList.remove('g-label-error'); 
                els.emailErrorMsg.classList.add('hidden');
            }
            function showEmailError(msg) {
                els.inputEmail.classList.add('g-input-error'); 
                els.emailLabel.classList.add('g-label-error');
                els.emailErrorText.innerText = msg; 
                els.emailErrorMsg.classList.remove('hidden'); 
                els.inputEmail.focus();
            }

            function resetPasswordError() {
                els.inputPassword.classList.remove('g-input-error'); 
                els.passwordLabel.classList.remove('g-label-error'); 
                els.passwordErrorMsg.classList.add('hidden');
            }
            function showPasswordError(msg) {
                els.inputPassword.classList.add('g-input-error'); 
                els.passwordLabel.classList.add('g-label-error');
                els.passwordErrorText.innerText = msg; 
                els.passwordErrorMsg.classList.remove('hidden'); 
                els.inputPassword.focus();
            }
            
            function updateOnlineStatus() {
                if (navigator.onLine) {
                    if (offlineTimer) clearTimeout(offlineTimer);
                    document.body.classList.remove('body-gray-mode'); 
                    els.offlineOverlay.classList.add('hidden');
                    els.networkCheckToast.classList.add('hidden');
                    els.interactionBlocker.classList.add('hidden');
                } else {
                    document.body.classList.add('body-gray-mode'); 
                    els.networkCheckToast.classList.remove('hidden');
                    els.interactionBlocker.classList.remove('hidden'); 
                    if (offlineTimer) clearTimeout(offlineTimer);
                    offlineTimer = setTimeout(() => {
                        els.networkCheckToast.classList.add('hidden');
                        els.offlineOverlay.classList.remove('hidden');
                    }, 3000);
                }
            }
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);
            updateOnlineStatus(); 

            // --- åˆå§‹åŒ–åŸ·è¡Œ: è‡ªå‹•èªè¨€æ‡‰ç”¨ ---
            changeLanguage(currentLang);
            const initLangItem = document.querySelector(`.g-lang-item[data-val="${currentLang}"]`);
            if (initLangItem && els.currentLangText) {
                els.currentLangText.innerText = initLangItem.innerText;
            }
        });
    </script>
</body>
</html>


